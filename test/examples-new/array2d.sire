val N := 3;

proc node(val i, val j, chanend n, chanend e, chanend s, chanend w) is
  var a;
  var b;
  skip

proc main() is
  var i;
  var j;
  chan x[N*N];
  chan y[N*N];
  par i in [0 for N], j in [0 for N] do
    node(i, j, 
      x[(i*N)+j], x[(i*N)+((j+1) rem N)], 
      y[(i*N)+j], y[(i*N)+((j+1) rem N)])
  
