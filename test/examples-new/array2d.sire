val N := 2;
val M := N + 1;

proc src_sink(chanend input, chanend output) is
  skip

proc cell(chanend n, chanend s, chanend w, chanend e) is
  skip

proc main() is
  chan y[N*(N+1)];
  chan x[N*(N+1)];
  var i;
  var j;
{ par i in [0 for N] do src_sink(y[i*M], y[(i*M)+N]) ||
  par i in [0 for N] do src_sink(x[i*M], x[(i*M)+N]) ||
  par i in [0 for N], j in [0 for N] do
    cell(y[(i*M)+j], y[(i*M)+j+1],
         x[(j*M)+i], x[(j*M)+i+1]) 
}

